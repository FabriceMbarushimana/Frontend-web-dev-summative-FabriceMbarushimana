<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Student Finance Tracker - Regex Test Suite</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --primary: #000000;
      --success: #16a34a;
      --danger: #dc2626;
      --warning: #ea580c;
      --bg: #f8fafc;
      --surface: #ffffff;
      --text: #1e293b;
      --text-light: #64748b;
      --border: #e2e8f0;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
      padding: 2rem;
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
    }

    header {
      margin-bottom: 2rem;
      border-bottom: 2px solid var(--border);
      padding-bottom: 1.5rem;
    }

    h1 {
      font-size: 2rem;
      margin-bottom: 0.5rem;
      color: var(--primary);
    }

    .main-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 2rem;
      margin-top: 2rem;
    }

    .panel {
      background: var(--surface);
      border-radius: 8px;
      padding: 1.5rem;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    }

    .panel h2 {
      font-size: 1.3rem;
      margin-bottom: 1rem;
      color: var(--primary);
      border-bottom: 2px solid var(--border);
      padding-bottom: 0.75rem;
    }

    .form-group {
      margin-bottom: 1.5rem;
    }

    label {
      display: block;
      font-weight: 600;
      margin-bottom: 0.5rem;
      color: var(--text);
    }

    .regex-label {
      font-family: 'Courier New', monospace;
      font-size: 0.85rem;
      background: var(--bg);
      padding: 0.25rem 0.5rem;
      border-radius: 3px;
      color: #000000;
      display: block;
      margin-top: 0.25rem;
    }

    input[type="text"],
    input[type="number"],
    input[type="date"],
    select {
      width: 100%;
      padding: 0.75rem;
      border: 2px solid var(--border);
      border-radius: 4px;
      font-size: 1rem;
      font-family: 'Inter', sans-serif;
      transition: all 0.3s ease;
    }

    input[type="text"]:focus,
    input[type="number"]:focus,
    input[type="date"]:focus,
    select:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
    }

    .validation-result {
      margin-top: 0.5rem;
      padding: 0.75rem;
      border-radius: 4px;
      font-size: 0.9rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .validation-result.valid {
      background: #dcfce7;
      color: #166534;
      border: 1px solid #86efac;
    }

    .validation-result.invalid {
      background: #fee2e2;
      color: #991b1b;
      border: 1px solid #fca5a5;
    }

    .validation-result.pending {
      background: #fef3c7;
      color: #92400e;
      border: 1px solid #fde68a;
    }

    .test-cases {
      background: var(--bg);
      padding: 1rem;
      border-radius: 4px;
      margin-top: 1rem;
    }

    .test-case-btn {
      display: block;
      width: 100%;
      padding: 0.5rem;
      margin: 0.25rem 0;
      background: var(--bg);
      border: 1px solid var(--border);
      border-radius: 3px;
      cursor: pointer;
      font-size: 0.85rem;
      text-align: left;
      transition: all 0.2s ease;
      font-family: 'Courier New', monospace;
    }

    .test-case-btn:hover {
      background: var(--primary);
      color: white;
      border-color: var(--primary);
    }

    .test-case-btn.valid {
      border-left: 3px solid var(--success);
    }

    .test-case-btn.invalid {
      border-left: 3px solid var(--danger);
    }



    button {
      background: var(--primary);
      color: white;
      border: none;
      padding: 0.75rem 1.5rem;
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      width: 100%;
    }

    button:hover {
      background: #1e40af;
      transform: translateY(-2px);
    }

    .info-box {
      background: #eff6ff;
      border-left: 4px solid var(--primary);
      padding: 1rem;
      border-radius: 4px;
      margin-bottom: 1rem;
      font-size: 0.9rem;
    }

    @media (max-width: 1024px) {
      .main-grid {
        grid-template-columns: 1fr;
      }
    }

    @media (max-width: 768px) {
      body {
        padding: 1rem;
      }

      h1 {
        font-size: 1.5rem;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Regex Validator - Interactive Test Suite</h1>
      <p style="color: var(--text-light); margin-top: 0.5rem;">Test form inputs against regex patterns used in Student Finance Tracker</p>
    </header>

    <div class="main-grid">
      <!-- LEFT PANEL: INPUT TESTERS -->
      <div>
        <!-- RULE 1: DESCRIPTION -->
        <div class="panel">
          <h2>Rule 1: Description/Title</h2>
          <div class="info-box">
            Pattern: <code>/^\S(?:.*\S)?$/</code><br>
            No leading/trailing spaces • Detects duplicate words
          </div>

          <div class="form-group">
            <label>Test Description Input</label>
            <input type="text" id="desc-input" placeholder="Enter description..." value="">
            <div class="validation-result pending" id="desc-result">
              Enter a value to test
            </div>
          </div>

          <div class="test-cases">
            <strong style="font-size: 0.9rem;">Quick test cases:</strong>
            <button class="test-case-btn valid" onclick="testInput('desc-input', 'Lunch at cafe')">✓ Lunch at cafe</button>
            <button class="test-case-btn valid" onclick="testInput('desc-input', 'A')">✓ A</button>
            <button class="test-case-btn invalid" onclick="testInput('desc-input', ' Leading space')">✗ Leading space</button>
            <button class="test-case-btn invalid" onclick="testInput('desc-input', 'Trailing space ')">✗ Trailing space</button>
            <button class="test-case-btn invalid" onclick="testInput('desc-input', 'coffee coffee')">✗ coffee coffee</button>
            <button class="test-case-btn invalid" onclick="testInput('desc-input', 'LUNCH lunch')">✗ LUNCH lunch (dup)</button>
          </div>
        </div>

        <!-- RULE 2: AMOUNT -->
        <div class="panel" style="margin-top: 2rem;">
          <h2>Rule 2: Amount/Numeric</h2>
          <div class="info-box">
            Pattern: <code>/^(0|[1-9]\d*)(\.\d{1,2})?$/</code><br>
            Positive decimal • Max 2 decimals • No leading zeros
          </div>

          <div class="form-group">
            <label>Test Amount Input</label>
            <input type="text" id="amount-input" placeholder="Enter amount..." value="">
            <div class="validation-result pending" id="amount-result">
              Enter a value to test
            </div>
          </div>

          <div class="test-cases">
            <strong style="font-size: 0.9rem;">Quick test cases:</strong>
            <button class="test-case-btn valid" onclick="testInput('amount-input', '12.50')">✓ 12.50</button>
            <button class="test-case-btn valid" onclick="testInput('amount-input', '100')">✓ 100</button>
            <button class="test-case-btn valid" onclick="testInput('amount-input', '0.01')">✓ 0.01</button>
            <button class="test-case-btn invalid" onclick="testInput('amount-input', '-5.00')">✗ -5.00</button>
            <button class="test-case-btn invalid" onclick="testInput('amount-input', '12.999')">✗ 12.999</button>
            <button class="test-case-btn invalid" onclick="testInput('amount-input', '01.50')">✗ 01.50 (leading 0)</button>
          </div>
        </div>

        <!-- RULE 3: DATE -->
        <div class="panel" style="margin-top: 2rem;">
          <h2>Rule 3: Date (YYYY-MM-DD)</h2>
          <div class="info-box">
            Pattern: <code>/^\d{4}-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01])$/</code><br>
            ISO format • Valid months 01-12 • Valid days 01-31
          </div>

          <div class="form-group">
            <label>Test Date Input</label>
            <input type="text" id="date-input" placeholder="YYYY-MM-DD" value="">
            <div class="validation-result pending" id="date-result">
              Enter a value to test
            </div>
          </div>

          <div class="test-cases">
            <strong style="font-size: 0.9rem;">Quick test cases:</strong>
            <button class="test-case-btn valid" onclick="testInput('date-input', '2025-09-29')">✓ 2025-09-29</button>
            <button class="test-case-btn valid" onclick="testInput('date-input', '2000-01-01')">✓ 2000-01-01</button>
            <button class="test-case-btn valid" onclick="testInput('date-input', '2025-12-31')">✓ 2025-12-31</button>
            <button class="test-case-btn invalid" onclick="testInput('date-input', '2025/09/29')">✗ 2025/09/29 (slash)</button>
            <button class="test-case-btn invalid" onclick="testInput('date-input', '09-29-2025')">✗ 09-29-2025 (US)</button>
            <button class="test-case-btn invalid" onclick="testInput('date-input', '2025-13-01')">✗ 2025-13-01 (month)</button>
          </div>
        </div>

        <!-- RULE 4: CATEGORY -->
        <div class="panel" style="margin-top: 2rem;">
          <h2>Rule 4: Category/Tag</h2>
          <div class="info-box">
            Pattern: <code>/^[A-Za-z]+(?:[ -][A-Za-z]+)*$/</code><br>
            Letters, spaces, hyphens • No numbers or special chars
          </div>

          <div class="form-group">
            <label>Test Category Input</label>
            <input type="text" id="cat-input" placeholder="Enter category..." value="">
            <div class="validation-result pending" id="cat-result">
              Enter a value to test
            </div>
          </div>

          <div class="test-cases">
            <strong style="font-size: 0.9rem;">Quick test cases:</strong>
            <button class="test-case-btn valid" onclick="testInput('cat-input', 'Food')">✓ Food</button>
            <button class="test-case-btn valid" onclick="testInput('cat-input', 'Student Fees')">✓ Student Fees</button>
            <button class="test-case-btn valid" onclick="testInput('cat-input', 'Gift-Card')">✓ Gift-Card</button>
            <button class="test-case-btn invalid" onclick="testInput('cat-input', 'Food123')">✗ Food123</button>
            <button class="test-case-btn invalid" onclick="testInput('cat-input', ' Food')">✗  Food (leading)</button>
            <button class="test-case-btn invalid" onclick="testInput('cat-input', 'Food & Drink')">✗ Food & Drink</button>
          </div>
        </div>
      </div>

      <!-- RIGHT PANEL: RESULTS -->
      <div>
        <!-- DEFAULTS: CATEGORIES -->
        <div class="panel">
          <h2>Default Categories</h2>
          <div class="info-box">
            These are the 6 default categories. Each must pass Rule 4 validation.
          </div>

          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.75rem; margin-top: 1rem;">
            <button class="test-case-btn valid" onclick="testInput('cat-input', 'Food')" style="border: none; cursor: pointer; padding: 0.75rem; background: #dcfce7; color: #166534; font-weight: 600;">Food</button>
            <button class="test-case-btn valid" onclick="testInput('cat-input', 'Books')" style="border: none; cursor: pointer; padding: 0.75rem; background: #dcfce7; color: #166534; font-weight: 600;">Books</button>
            <button class="test-case-btn valid" onclick="testInput('cat-input', 'Transport')" style="border: none; cursor: pointer; padding: 0.75rem; background: #dcfce7; color: #166534; font-weight: 600;">Transport</button>
            <button class="test-case-btn valid" onclick="testInput('cat-input', 'Entertainment')" style="border: none; cursor: pointer; padding: 0.75rem; background: #dcfce7; color: #166534; font-weight: 600;">Entertainment</button>
            <button class="test-case-btn valid" onclick="testInput('cat-input', 'Fees')" style="border: none; cursor: pointer; padding: 0.75rem; background: #dcfce7; color: #166534; font-weight: 600;">Fees</button>
            <button class="test-case-btn valid" onclick="testInput('cat-input', 'Other')" style="border: none; cursor: pointer; padding: 0.75rem; background: #dcfce7; color: #166534; font-weight: 600;">Other</button>
          </div>
        </div>

        <!-- SEARCH PATTERNS -->
        <div class="panel" style="margin-top: 2rem;">
          <h2>Search Patterns</h2>
          <div class="info-box">
            Advanced regex patterns for searching transactions
          </div>

          <div class="form-group">
            <label>Search Text</label>
            <input type="text" id="search-input" placeholder="Enter text to search..." value="">
          </div>

          <div class="form-group">
            <label>Search Results</label>
            <div id="search-results" style="background: var(--bg); padding: 1rem; border-radius: 4px; min-height: 100px; font-size: 0.9rem;">
              Enter text to test search patterns
            </div>
          </div>

          <div class="test-cases">
            <strong style="font-size: 0.9rem;">Search pattern tests:</strong>
            <button class="test-case-btn" onclick="testSearch('Coffee at cafe')">Search: Coffee/Tea</button>
            <button class="test-case-btn" onclick="testSearch('lunch lunch break')">Search: Duplicates</button>
            <button class="test-case-btn" onclick="testSearch('Amount: 12.50')">Search: Cents (.XX)</button>
          </div>
        </div>

      </div>
    </div>
  </div>

  <script>
    // Regex patterns
    const patterns = {
      description: /^\S(?:.*\S)?$/,
      duplicate: /\b(\w+)\s+\1\b/i,
      amount: /^(0|[1-9]\d*)(\.\d{1,2})?$/,
      date: /^\d{4}-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01])$/,
      category: /^[A-Za-z]+(?:[ -][A-Za-z]+)*$/,
      cents: /\.\d{2}\b/,
      beverage: /(coffee|tea)/i
    };

    function testInput(inputId, value) {
      const input = document.getElementById(inputId);
      input.value = value;
      input.dispatchEvent(new Event('input'));
    }

    // Description validator
    document.getElementById('desc-input').addEventListener('input', function(e) {
      const value = e.target.value;
      const result = document.getElementById('desc-result');

      if (!value) {
        result.className = 'validation-result pending';
        result.textContent = 'Enter a value to test';
        return;
      }

      const isValid = patterns.description.test(value);
      const hasDuplicate = patterns.duplicate.test(value);

      let message = '';
      let className = 'validation-result ';

      if (!isValid) {
        className += 'invalid';
        message = '✗ Invalid: Has leading/trailing spaces';
        stats.failed++;
      } else if (hasDuplicate) {
        className += 'invalid';
        message = '✗ Invalid: Contains duplicate words';
        stats.failed++;
      } else {
        className += 'valid';
        message = '✓ Valid: Good description';
        stats.passed++;
      }

      result.className = className;
      result.textContent = message;

    });

    // Amount validator
    document.getElementById('amount-input').addEventListener('input', function(e) {
      const value = e.target.value;
      const result = document.getElementById('amount-result');

      if (!value) {
        result.className = 'validation-result pending';
        result.textContent = 'Enter a value to test';
        return;
      }

      const isValid = patterns.amount.test(value);
      result.className = 'validation-result ' + (isValid ? 'valid' : 'invalid');
      result.textContent = isValid ? '✓ Valid amount' : '✗ Invalid: Must be positive decimal with max 2 decimals';

    });

    // Date validator
    document.getElementById('date-input').addEventListener('input', function(e) {
      const value = e.target.value;
      const result = document.getElementById('date-result');

      if (!value) {
        result.className = 'validation-result pending';
        result.textContent = 'Enter a value to test';
        return;
      }

      const isValid = patterns.date.test(value);
      result.className = 'validation-result ' + (isValid ? 'valid' : 'invalid');
      result.textContent = isValid ? '✓ Valid date (YYYY-MM-DD)' : '✗ Invalid: Use YYYY-MM-DD format';

    });

    // Category validator
    document.getElementById('cat-input').addEventListener('input', function(e) {
      const value = e.target.value;
      const result = document.getElementById('cat-result');

      if (!value) {
        result.className = 'validation-result pending';
        result.textContent = 'Enter a value to test';
        return;
      }

      const isValid = patterns.category.test(value);
      result.className = 'validation-result ' + (isValid ? 'valid' : 'invalid');
      result.textContent = isValid ? '✓ Valid category' : '✗ Invalid: Letters, spaces, hyphens only';

    });

    // Search patterns
    document.getElementById('search-input').addEventListener('input', function(e) {
      testSearch(e.target.value);
    });

    function testSearch(text) {
      const resultsEl = document.getElementById('search-results');
      if (!text) {
        resultsEl.innerHTML = 'Enter text to test search patterns';
        return;
      }

      let results = '<strong>Pattern Matches:</strong><br><br>';

      // Beverage search
      const beverageMatches = text.match(patterns.beverage);
      results += `<div style="margin-bottom: 1rem;">
        <strong>Beverage (/(coffee|tea)/i):</strong> ${beverageMatches ? `✓ Found: ${beverageMatches.join(', ')}` : '✗ No matches'}
      </div>`;

      // Duplicate words
      const duplicateMatch = text.match(patterns.duplicate);
      results += `<div style="margin-bottom: 1rem;">
        <strong>Duplicates (/\\b(\\w+)\\s+\\1\\b/i):</strong> ${duplicateMatch ? `✓ Found: "${duplicateMatch[0]}"` : '✗ No duplicates'}
      </div>`;

      // Cents
      const centsMatches = text.match(patterns.cents);
      results += `<div style="margin-bottom: 1rem;">
        <strong>Cents (/\\.\\d{2}\\b/):</strong> ${centsMatches ? `✓ Found: ${centsMatches.join(', ')}` : '✗ No amounts with cents'}
      </div>`;

      resultsEl.innerHTML = results;

    }

    // Initialize
  </script>
</body>
</html>
